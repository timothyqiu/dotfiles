" plugins
call plug#begin()

Plug 'tpope/vim-sensible'
Plug 'tpope/vim-surround'
Plug 'tpope/vim-commentary'
Plug 'tpope/vim-repeat'
Plug 'tpope/vim-ragtag'
Plug 'tpope/vim-unimpaired'
Plug 'ctrlpvim/ctrlp.vim'
Plug 'mileszs/ack.vim'
Plug 'w0rp/ale'
Plug 'scrooloose/nerdtree', { 'on':  'NERDTreeFind' }
Plug 'posva/vim-vue', { 'for': 'vue' }
Plug 'vim-scripts/a.vim', { 'for': ['c', 'cpp'] }
Plug 'keith/swift.vim', { 'for': ['swift'] }
Plug 'Vimjas/vim-python-pep8-indent', { 'for': ['python'] }

if has('python') || has('python3')
Plug 'maralla/completor.vim'
endif

call plug#end()

" eye candy
set background=dark
set hlsearch
set wildignore+=*.pyc,*/__pycache__,*/node_modules,*/htmlcov,*.o,*.obj,*/.git,*.swp
set scrolloff=4

" for quick movement
set relativenumber

" time-saver
set statusline=
set statusline+=[%n]\ %f
set statusline+=%=
set statusline+=%m
set statusline+=[%{strlen(&fenc)?&fenc:&enc}%{&bomb?',BOM':''}]
set statusline+=[%{strlen(&ft)?&ft:'?'}]
set statusline+=[%{&fileformat}]
set statusline+=[%c%V,%l]
set statusline+=[%P]

" show possible mistakes
set listchars=tab:→\ ,trail:␣
set list
set colorcolumn=

" spaces matters
set shiftwidth=4
set softtabstop=4
set tabstop=4
set noexpandtab

" c indent options
" :0  => don't indent `case` in `switch`
" l1  => brace after `case`
" g0  => don't indent `public` in `class`
" N-s => don't indent things in `namespace`
" E-s => don't indent things in `extern "C"`
" (0  => indent newlines in parentheseses
set cinoptions=:0l1g0N-sE-s(0

" allow hidden buffers for bulk editing of files
set hidden

" NERDTree
let NERDTreeRespectWildIgnore = 1
let NERDTreeQuitOnOpen = 1
let NERDTreeMinimalUI = 1
let NERDTreeShowHidden = 1
map <C-n> :NERDTreeFind<CR>

" ale: visual config
let g:ale_lint_on_text_changed = 'never'

" ack.vim: use the silver searcher instead
let g:ackprg = 'ag --vimgrep'
